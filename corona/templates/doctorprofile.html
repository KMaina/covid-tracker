{% extends 'base.html' %}
{% include 'material/includes/material_css.html' %}
{% include 'material/includes/material_js.html' %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
{% block content %}
{{block.super}}
    {% include "navbar.html" %}
    <div class="row">
        <div class="col"></div>
        <div class="col-md-8" style="background: #b1e8fb77; "> 
            <div class="container" style="margin-top: 30px; text-align: center;">
                <img src="{{ profile.photo_url|default_if_none:'https://icon-library.net/images/patient-icon/patient-icon-25.jpg' }}" alt="profile picture" style=" width:225px; height: 225px; border-radius:50%;">                                
                <a href="{% url 'editprofile' %}"><button style="display: inline-block;" class="btn btn-primary">Update Profile</button></a>
                <h3>{{current_user.username}}</h3>
            </div>
            <div class="container" style="margin-left: 12%; margin-top: 30px;">
                <h6 style="display: inline-block; padding-right: 15%;">Name: <span style="font-size: 20px;">{{profile.name}}</span></h6>
                <h6 style="display: inline-block;">Email: <span style="font-size: 20px;">{{profile.user.email}}</span></h6>
            </div>            
            <h6 style="display: inline-block;margin-left: 15%; padding-right:15%;">Phone no.: <span style="font-size: 20px;">{{profile.phone}}</span></h6>            
            <h6 style="display: inline-block;">Hospital: <span style="font-size: 20px;">{{profile.hospital}}</span></h6>            
            <div class="row" style="margin-top: 30px;">
              <div class="col">                  
                <div class="col" id="map">
                  <!-- User location map -->
                  <p>Your are in <strong>{{ city }}</strong>,<strong>{{ country }}</strong> based on your ip address.</p>
                  <iframe 
                        frameborder="0"
                       style="border:0; width:100%; height:100%; object-fit: cover;"
                       src="https://www.google.com/maps/embed/v1/view?center={{ latitude }},{{ longitude }}&zoom=8&key={{ api_key }}"
                       allowfullscreen>
                  </iframe>
                </div>
              </div>
              <div class="col">
                  <div class="container" style="background:white;">                                        
                      <table class="table table-hover">                                                   
                        <tbody>
                          <tr>                                
                            <td colspan="3" style="font-weight: bold;">Reports done</td>                                                                                                                
                            <td>{{patient_report.count}}</td>                                                        
                          </tr>                          
                        </tbody>                                                                        
                      </table>
                  </div>
              </div>                                        
            </div>             
        </div>
        <div class="col"></div>
    </div>
    
    
{% endblock %}